//Script here

var meta={"id": 10331, "pid": 10329, "code": "6I6Ieo", "name": "民族", "type": 18, "order": 3, "state": 0, "fillType": 2, "objectId": "1260025032466370560", "required": false, "optionSet": {"id": 11785, "code": "value_cb5a11373f20464092038c3a6ade9ccc", "name": "民族（MDM）", "filed": 28, "options": [{"id": 117029, "code": "value_1259680783711473664", "label": "保安族", "score": null, "imgSrc": null, "deleted": false, "ableNote": false, "children": {"id": 0, "code": null, "name": null, "filed": 0, "options": []}}, {"id": 117030, "code": "value_1259680783732445184", "label": "德昂族", "score": null, "imgSrc": null, "deleted": false, "ableNote": false, "children": {"id": 0, "code": null, "name": null, "filed": 0, "options": []}}, {"id": 117031, "code": "value_1259680783757611008", "label": "仡佬族", "score": null, "imgSrc": null, "deleted": false, "ableNote": false, "children": {"id": 0, "code": null, "name": null, "filed": 0, "options": []}}, {"id": 117032, "code": "value_1259680783778582528", "label": "达斡尔族", "score": null, "imgSrc": null, "deleted": false, "ableNote": false, "children": {"id": 0, "code": null, "name": null, "filed": 0, "options": []}}, {"id": 117033, "code": "value_1259680783795359744", "label": "蒙古族", "score": null, "imgSrc": null, "deleted": false, "ableNote": false, "children": {"id": 0, "code": null, "name": null, "filed": 0, "options": []}}, {"id": 117034, "code": "value_1259680783816331264", "label": "仫佬族", "score": null, "imgSrc": null, "deleted": false, "ableNote": false, "children": {"id": 0, "code": null, "name": null, "filed": 0, "options": []}}, {"id": 117035, "code": "value_1259680783833108480", "label": "羌族", "score": null, "imgSrc": null, "deleted": false, "ableNote": false, "children": {"id": 0, "code": null, "name": null, "filed": 0, "options": []}}, {"id": 117036, "code": "value_1259680783858274304", "label": "毛难族", "score": null, "imgSrc": null, "deleted": false, "ableNote": false, "children": {"id": 0, "code": null, "name": null, "filed": 0, "options": []}}, {"id": 117037, "code": "value_1259680783900217344", "label": "撒拉族", "score": null, "imgSrc": null, "deleted": false, "ableNote": false, "children": {"id": 0, "code": null, "name": null, "filed": 0, "options": []}}, {"id": 117038, "code": "value_1259680783925383168", "label": "布朗族", "score": null, "imgSrc": null, "deleted": false, "ableNote": false, "children": {"id": 0, "code": null, "name": null, "filed": 0, "options": []}}, {"id": 117039, "code": "value_1259680783946354688", "label": "土族", "score": null, "imgSrc": null, "deleted": false, "ableNote": false, "children": {"id": 0, "code": null, "name": null, "filed": 0, "options": []}}, {"id": 117040, "code": "value_1259680783971520512", "label": "基诺族", "score": null, "imgSrc": null, "deleted": false, "ableNote": false, "children": {"id": 0, "code": null, "name": null, "filed": 0, "options": []}}, {"id": 117041, "code": "value_1259680783996686336", "label": "珞巴族", "score": null, "imgSrc": null, "deleted": false, "ableNote": false, "children": {"id": 0, "code": null, "name": null, "filed": 0, "options": []}}, {"id": 117042, "code": "value_1259680784021852160", "label": "门巴族", "score": null, "imgSrc": null, "deleted": false, "ableNote": false, "children": {"id": 0, "code": null, "name": null, "filed": 0, "options": []}}, {"id": 117043, "code": "value_1259680784067989504", "label": "赫哲族", "score": null, "imgSrc": null, "deleted": false, "ableNote": false, "children": {"id": 0, "code": null, "name": null, "filed": 0, "options": []}}, {"id": 117044, "code": "value_1259680784109932544", "label": "鄂伦春族", "score": null, "imgSrc": null, "deleted": false, "ableNote": false, "children": {"id": 0, "code": null, "name": null, "filed": 0, "options": []}}, {"id": 117045, "code": "value_1259680784135098368", "label": "独龙族", "score": null, "imgSrc": null, "deleted": false, "ableNote": false, "children": {"id": 0, "code": null, "name": null, "filed": 0, "options": []}}, {"id": 117046, "code": "value_1259680784164458496", "label": "塔塔尔族", "score": null, "imgSrc": null, "deleted": false, "ableNote": false, "children": {"id": 0, "code": null, "name": null, "filed": 0, "options": []}}, {"id": 117047, "code": "value_1259680784193818624", "label": "京族", "score": null, "imgSrc": null, "deleted": false, "ableNote": false, "children": {"id": 0, "code": null, "name": null, "filed": 0, "options": []}}, {"id": 117048, "code": "value_1259680784223178752", "label": "裕固族", "score": null, "imgSrc": null, "deleted": false, "ableNote": false, "children": {"id": 0, "code": null, "name": null, "filed": 0, "options": []}}, {"id": 117049, "code": "value_1259680784252538880", "label": "外籍人士", "score": null, "imgSrc": null, "deleted": false, "ableNote": false, "children": {"id": 0, "code": null, "name": null, "filed": 0, "options": []}}, {"id": 117050, "code": "value_1259680784281899008", "label": "鄂温克族", "score": null, "imgSrc": null, "deleted": false, "ableNote": false, "children": {"id": 0, "code": null, "name": null, "filed": 0, "options": []}}, {"id": 117051, "code": "value_1259680784311259136", "label": "俄罗斯族", "score": null, "imgSrc": null, "deleted": false, "ableNote": false, "children": {"id": 0, "code": null, "name": null, "filed": 0, "options": []}}, {"id": 117052, "code": "value_1259680784344813568", "label": "乌孜别克族", "score": null, "imgSrc": null, "deleted": false, "ableNote": false, "children": {"id": 0, "code": null, "name": null, "filed": 0, "options": []}}, {"id": 117053, "code": "value_1259680784403533824", "label": "怒族", "score": null, "imgSrc": null, "deleted": false, "ableNote": false, "children": {"id": 0, "code": null, "name": null, "filed": 0, "options": []}}, {"id": 117054, "code": "value_1259680784445476864", "label": "塔吉克族", "score": null, "imgSrc": null, "deleted": false, "ableNote": false, "children": {"id": 0, "code": null, "name": null, "filed": 0, "options": []}}, {"id": 117055, "code": "value_1259680784508391424", "label": "普米族", "score": null, "imgSrc": null, "deleted": false, "ableNote": false, "children": {"id": 0, "code": null, "name": null, "filed": 0, "options": []}}, {"id": 117056, "code": "value_1259680784550334464", "label": "阿昌族", "score": null, "imgSrc": null, "deleted": false, "ableNote": false, "children": {"id": 0, "code": null, "name": null, "filed": 0, "options": []}}, {"id": 117057, "code": "value_1259680784583888896", "label": "锡伯族", "score": null, "imgSrc": null, "deleted": false, "ableNote": false, "children": {"id": 0, "code": null, "name": null, "filed": 0, "options": []}}, {"id": 117058, "code": "value_1259680784621637632", "label": "回族", "score": null, "imgSrc": null, "deleted": false, "ableNote": false, "children": {"id": 0, "code": null, "name": null, "filed": 0, "options": []}}, {"id": 117059, "code": "value_1259680785024290816", "label": "柯尔克孜族", "score": null, "imgSrc": null, "deleted": false, "ableNote": false, "children": {"id": 0, "code": null, "name": null, "filed": 0, "options": []}}, {"id": 117060, "code": "value_1259680785062039552", "label": "景颇族", "score": null, "imgSrc": null, "deleted": false, "ableNote": false, "children": {"id": 0, "code": null, "name": null, "filed": 0, "options": []}}, {"id": 117061, "code": "value_1259680785099788288", "label": "纳西族", "score": null, "imgSrc": null, "deleted": false, "ableNote": false, "children": {"id": 0, "code": null, "name": null, "filed": 0, "options": []}}, {"id": 117062, "code": "value_1259680785137537024", "label": "东乡族", "score": null, "imgSrc": null, "deleted": false, "ableNote": false, "children": {"id": 0, "code": null, "name": null, "filed": 0, "options": []}}, {"id": 117063, "code": "value_1259680785183674368", "label": "水族", "score": null, "imgSrc": null, "deleted": false, "ableNote": false, "children": {"id": 0, "code": null, "name": null, "filed": 0, "options": []}}, {"id": 117064, "code": "value_1259680785225617408", "label": "拉祜族", "score": null, "imgSrc": null, "deleted": false, "ableNote": false, "children": {"id": 0, "code": null, "name": null, "filed": 0, "options": []}}, {"id": 117065, "code": "value_1259680785267560448", "label": "高山族", "score": null, "imgSrc": null, "deleted": false, "ableNote": false, "children": {"id": 0, "code": null, "name": null, "filed": 0, "options": []}}, {"id": 117066, "code": "value_1259680785313697792", "label": "畲族", "score": null, "imgSrc": null, "deleted": false, "ableNote": false, "children": {"id": 0, "code": null, "name": null, "filed": 0, "options": []}}, {"id": 117067, "code": "value_1259680785355640832", "label": "佤族", "score": null, "imgSrc": null, "deleted": false, "ableNote": false, "children": {"id": 0, "code": null, "name": null, "filed": 0, "options": []}}, {"id": 117068, "code": "value_1259680785405972480", "label": "傈僳族", "score": null, "imgSrc": null, "deleted": false, "ableNote": false, "children": {"id": 0, "code": null, "name": null, "filed": 0, "options": []}}, {"id": 117069, "code": "value_1259680785452109824", "label": "黎族", "score": null, "imgSrc": null, "deleted": false, "ableNote": false, "children": {"id": 0, "code": null, "name": null, "filed": 0, "options": []}}, {"id": 117070, "code": "value_1259680785498247168", "label": "傣族", "score": null, "imgSrc": null, "deleted": false, "ableNote": false, "children": {"id": 0, "code": null, "name": null, "filed": 0, "options": []}}, {"id": 117071, "code": "value_1259680785556967424", "label": "哈萨克族", "score": null, "imgSrc": null, "deleted": false, "ableNote": false, "children": {"id": 0, "code": null, "name": null, "filed": 0, "options": []}}, {"id": 117072, "code": "value_1259680785603104768", "label": "哈尼族", "score": null, "imgSrc": null, "deleted": false, "ableNote": false, "children": {"id": 0, "code": null, "name": null, "filed": 0, "options": []}}, {"id": 117073, "code": "value_1259680785649242112", "label": "土家族", "score": null, "imgSrc": null, "deleted": false, "ableNote": false, "children": {"id": 0, "code": null, "name": null, "filed": 0, "options": []}}, {"id": 117074, "code": "value_1259680785699573760", "label": "白族", "score": null, "imgSrc": null, "deleted": false, "ableNote": false, "children": {"id": 0, "code": null, "name": null, "filed": 0, "options": []}}, {"id": 117075, "code": "value_1259680785745711104", "label": "瑶族", "score": null, "imgSrc": null, "deleted": false, "ableNote": false, "children": {"id": 0, "code": null, "name": null, "filed": 0, "options": []}}, {"id": 117076, "code": "value_1259680785796042752", "label": "侗族", "score": null, "imgSrc": null, "deleted": false, "ableNote": false, "children": {"id": 0, "code": null, "name": null, "filed": 0, "options": []}}, {"id": 117077, "code": "value_1259680785846374400", "label": "满族", "score": null, "imgSrc": null, "deleted": false, "ableNote": false, "children": {"id": 0, "code": null, "name": null, "filed": 0, "options": []}}, {"id": 117078, "code": "value_1259680785892511744", "label": "朝鲜族", "score": null, "imgSrc": null, "deleted": false, "ableNote": false, "children": {"id": 0, "code": null, "name": null, "filed": 0, "options": []}}, {"id": 117079, "code": "value_1259680785947037696", "label": "布依族", "score": null, "imgSrc": null, "deleted": false, "ableNote": false, "children": {"id": 0, "code": null, "name": null, "filed": 0, "options": []}}, {"id": 117080, "code": "value_1259680785997369344", "label": "壮族", "score": null, "imgSrc": null, "deleted": false, "ableNote": false, "children": {"id": 0, "code": null, "name": null, "filed": 0, "options": []}}, {"id": 117081, "code": "value_1259680786051895296", "label": "彝族", "score": null, "imgSrc": null, "deleted": false, "ableNote": false, "children": {"id": 0, "code": null, "name": null, "filed": 0, "options": []}}, {"id": 117082, "code": "value_1259680786135781376", "label": "苗族", "score": null, "imgSrc": null, "deleted": false, "ableNote": false, "children": {"id": 0, "code": null, "name": null, "filed": 0, "options": []}}, {"id": 117083, "code": "value_1259680786228056064", "label": "维吾尔族", "score": null, "imgSrc": null, "deleted": false, "ableNote": false, "children": {"id": 0, "code": null, "name": null, "filed": 0, "options": []}}, {"id": 117084, "code": "value_1259680786320330752", "label": "藏族", "score": null, "imgSrc": null, "deleted": false, "ableNote": false, "children": {"id": 0, "code": null, "name": null, "filed": 0, "options": []}}, {"id": 117085, "code": "value_1259680786412605440", "label": "汉族", "score": null, "imgSrc": null, "deleted": false, "ableNote": false, "children": {"id": 0, "code": null, "name": null, "filed": 0, "options": []}}]}, "displayName": "民族", "defaultValue": [], "bindingScript": "", "constraintType": 1, "identityDomainCode": null, "isSpecialTableChild": false};

// json格式化
var metaInfo=JSON.parse(meta);
var  source_Value=null ;
function get_meta_id_by_label(meta,label){
    var options=meta.optionSet.options;
   for (var dataInfo in options){
       if (dataInfo.label==label){
           return dataInfo.id
       }else{
           return null;
       }
   }
}
//获取类别
var  item_type=metaInfo.type;
// 获取 值
var source_value=null;
switch (item_type) {
    case 1:// 文本类型
        source_value='["'+source_value_old+'"]';
        break;
    case   3: //单选类型
        source_value=get_meta_id_by_label(metaInfo,source_value_old)!=null?'[{id:'+get_meta_id_by_label(metaInfo,source_value_old)+'}]':null;
        break;
    case    7:  //时间类型
        source_value=length(source_value_old)>6?'[{value:"'+source_value_old+'",sourceValue:"'+source_value_old+'"}]':null;
        break;
    case  8: //数字类型
        source_value='['+source_value_old+']';
        break;
    case   10: //
        source_value='["'+source_value_old+'"]';
        break;
    case 14:  //上传文件  忽略
        break;
    case   18: //下拉单选
        source_value=get_meta_id_by_label(metaInfo,source_value_old)!=null?'['+get_meta_id_by_label(metaInfo,source_value_old)+'}]':null;
        break;
    case    19: //分组组件
        break;
}
